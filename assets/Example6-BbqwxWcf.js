import{r as i,j as l}from"./index-BEJDXG8g.js";const h=i.createContext(null),c={didCatch:!1,error:null};class m extends i.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=c}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(e!==null){for(var r,t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];(r=(t=this.props).onReset)===null||r===void 0||r.call(t,{args:o,reason:"imperative-api"}),this.setState(c)}}componentDidCatch(e,r){var t,n;(t=(n=this.props).onError)===null||t===void 0||t.call(n,e,r)}componentDidUpdate(e,r){const{didCatch:t}=this.state,{resetKeys:n}=this.props;if(t&&r.error!==null&&f(e.resetKeys,n)){var o,s;(o=(s=this.props).onReset)===null||o===void 0||o.call(s,{next:n,prev:e.resetKeys,reason:"keys"}),this.setState(c)}}render(){const{children:e,fallbackRender:r,FallbackComponent:t,fallback:n}=this.props,{didCatch:o,error:s}=this.state;let d=e;if(o){const u={error:s,resetErrorBoundary:this.resetErrorBoundary};if(typeof r=="function")d=r(u);else if(t)d=i.createElement(t,u);else if(n!==void 0)d=n;else throw s}return i.createElement(h.Provider,{value:{didCatch:o,error:s,resetErrorBoundary:this.resetErrorBoundary}},d)}}function f(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return a.length!==e.length||a.some((r,t)=>!Object.is(r,e[t]))}const x=({name:a})=>l.jsxs("div",{children:["The length of name is ",a.length]}),g=()=>{const[a,e]=i.useState(!1);return l.jsx(m,{fallback:l.jsx("div",{className:"w-full h-full flex items-center justify-center text-xl font-bold text-red-500",children:"Something Failed"}),children:l.jsxs("div",{children:[l.jsx("button",{className:"rounded-md p-2 bg-slate-400 hover:bg-slate-500 text-white",onClick:()=>e(!0),children:"Explode"}),a&&l.jsx(x,{})]})})};export{g as default};
